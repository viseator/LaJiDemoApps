package xyz.viseator.v2ex.ui;import android.os.Bundle;import android.support.v4.app.Fragment;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import java.net.MalformedURLException;import java.net.URL;import xyz.viseator.v2ex.R;import xyz.viseator.v2ex.http.GetHtmlListTask;import xyz.viseator.v2ex.http.GetListTask;/** * Created by viseator on 2016/11/23. */public class MainRecyclerViewFragment extends Fragment {    private static final String TAG = "wudi Fragment";    private final static String HOT_URL = "https://www.v2ex.com/api/topics/hot.json";    private final static String LATEST_URL = "https://www.v2ex.com/api/topics/latest.json";    private final static String PROGRAMMER_URL = "https://www.v2ex.com/go/programmer";    private final static String ANDROID_URL = "https://www.v2ex.com/go/android";    private URL url;    private GetListTask getListTask;    private GetHtmlListTask getHtmlListTask;    private int position;    public void setPosition(int position) {        this.position = position;    }    public MainRecyclerViewFragment() {    }    @Override    public void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {        View rootView = inflater.inflate(R.layout.main_fragment, container, false);        RecyclerView recyclerView = (RecyclerView) rootView.findViewById(R.id.main_recyclerview);        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));        recyclerView.hasFixedSize();        try {            switch (position) {                case 0:                    url = new URL(LATEST_URL);                    getListTask = new GetListTask(getActivity(), recyclerView);                    getListTask.execute(url);                    break;                case 1:                    url = new URL(HOT_URL);                    getListTask = new GetListTask(getActivity(), recyclerView);                    getListTask.execute(url);                    break;                case 2:                    getHtmlListTask = new GetHtmlListTask(getActivity(), recyclerView);                    getHtmlListTask.execute(PROGRAMMER_URL);                    break;                case 3:                    getHtmlListTask = new GetHtmlListTask(getActivity(), recyclerView);                    getHtmlListTask.execute(ANDROID_URL);            }        } catch (MalformedURLException e) {            Log.d(TAG, "URL error");            e.printStackTrace();        }        return rootView;    }}