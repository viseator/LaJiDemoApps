package xyz.viseator.v2ex.ui;import android.content.Context;import android.content.Intent;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.util.List;import xyz.viseator.v2ex.R;import xyz.viseator.v2ex.activities.DetailActivity;import xyz.viseator.v2ex.data.MainContent;import xyz.viseator.v2ex.http.GetAvatarTask;/** * Created by viseator on 2016/11/17. */public class MainRecyclerViewAdapter extends RecyclerView.Adapter<MainRecyclerViewAdapter.ViewHolder> {    protected Context context;    private List<MainContent> myContentList;    private final static String TAG = "wudi Adapter";    public static class ViewHolder extends RecyclerView.ViewHolder {        ImageView imageView;        TextView textViewContentSource;        TextView textViewTitle;        TextView textViewContent;        TextView textViewReply;        public ViewHolder(View itemView) {            super(itemView);            imageView = (ImageView) itemView.findViewById(R.id.content_logo);            textViewContentSource = (TextView) itemView.findViewById(R.id.content_source);            textViewTitle = (TextView) itemView.findViewById(R.id.content_title);            textViewContent = (TextView) itemView.findViewById(R.id.content);            textViewReply = (TextView) itemView.findViewById(R.id.content_reply);        }    }    public MainRecyclerViewAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        View v = LayoutInflater.from(context).inflate(R.layout.main_recyclerview_content_layout, parent, false);        return new MainRecyclerViewAdapter.ViewHolder(v);    }    public MainRecyclerViewAdapter(Context context, List<MainContent> myContentList) {        this.myContentList = myContentList;        this.context = context;    }    @Override    public void onBindViewHolder(MainRecyclerViewAdapter.ViewHolder holder, final int position) {        holder.textViewTitle.setText(myContentList.get(position).getTitle());        holder.textViewContent.setText(myContentList.get(position).getContent());        holder.textViewContentSource.setText(myContentList.get(position).getNodeTitle());        holder.textViewReply.setText(String.valueOf(myContentList.get(position).getReplies()));        getAvatar(holder.imageView, myContentList.get(position).getNodeAvatar_large());        holder.itemView.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(context, DetailActivity.class);                intent.putExtra("avatarURL", myContentList.get(position).getMemberAvatar_large());                intent.putExtra("name", myContentList.get(position).getMemberUsername());                intent.putExtra("time", myContentList.get(position).getCreated());                intent.putExtra("title", myContentList.get(position).getTitle());                intent.putExtra("URL", myContentList.get(position).getUrl());                intent.putExtra("replyNum", myContentList.get(position).getReplies());                context.startActivity(intent);            }        });    }    @Override    public int getItemCount() {        return myContentList.size();    }    private void getAvatar(ImageView imageView, String url) {        new GetAvatarTask(imageView).execute(url);    }    public List<MainContent> getMyContentList() {        return myContentList;    }    public void setMyContentList(List<MainContent> myContentList) {        this.myContentList = myContentList;    }}