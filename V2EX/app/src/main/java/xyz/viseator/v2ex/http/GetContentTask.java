package xyz.viseator.v2ex.http;import android.content.Context;import android.os.AsyncTask;import android.support.annotation.NonNull;import android.util.Log;import com.google.gson.Gson;import com.google.gson.reflect.TypeToken;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStreamReader;import java.lang.reflect.Type;import java.net.URL;import java.util.Collection;import java.util.Iterator;import java.util.List;import java.util.ListIterator;import javax.net.ssl.HttpsURLConnection;import xyz.viseator.v2ex.data.MyContent;/** * Created by viseator on 2016/11/18. */public class GetContentTask extends AsyncTask<URL, Void, String> {    private static String TAG = "wudi GetContentTask";    private Context context;    public GetContentTask(Context context) {        this.context = context;    }    @Override    protected String doInBackground(URL... urls) {        Integer resultCode = 0;        HttpsURLConnection httpsURLConnection;        StringBuilder response = new StringBuilder();        try {            httpsURLConnection = (HttpsURLConnection) urls[0].openConnection();            int statusCode = httpsURLConnection.getResponseCode();            if (statusCode == 200) {                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(                        httpsURLConnection.getInputStream()));                String line;                while ((line = bufferedReader.readLine()) != null) {                    Log.d(TAG, "Got a line");                    response.append(line);                }            }        } catch (IOException e) {            Log.e(TAG, "URL error");            e.printStackTrace();        }        return response.toString();    }    @Override    protected void onPostExecute(String response) {        Gson gson = new Gson();        Type theType = new TypeToken<List<MyContent>>() {        }.getType();        List<MyContent> myContentList = gson.fromJson(response, theType);        Log.d(TAG, myContentList.get(0).getTitle());    }}