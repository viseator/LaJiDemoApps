package xyz.viseator.v2ex.http;import android.content.Context;import android.os.AsyncTask;import android.util.Log;import android.widget.TextView;import java.io.BufferedReader;import java.io.File;import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStreamReader;import java.net.URL;import javax.net.ssl.HttpsURLConnection;/** * Created by viseator on 2016/11/18. */public class GetContentTask extends AsyncTask<URL, Void, String> {    private static String TAG = "wudi GetContentTask";    private Context context;    private TextView textView;    public GetContentTask(Context context, TextView textView) {        this.context = context;        this.textView = textView;    }    @Override    protected String doInBackground(URL... urls) {        Integer resultCode = 0;        HttpsURLConnection httpsURLConnection;        StringBuilder response = new StringBuilder();        try {            httpsURLConnection = (HttpsURLConnection) urls[0].openConnection();            int statusCode = httpsURLConnection.getResponseCode();            if (statusCode == 200) {                Log.d(TAG, "getOK");                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(                        httpsURLConnection.getInputStream()));                String line;                while ((line = bufferedReader.readLine()) != null) {                    Log.d(TAG, "Got a line");                    response.append(line);                }            }        } catch (IOException e) {            Log.e(TAG, "URL error");            e.printStackTrace();        }        return response.toString();    }    @Override    protected void onPostExecute(String response) {        if(response == null) Log.d(TAG, "error");        textView.setText(response);    }}