package xyz.viseator.v2ex.ui;import android.content.Context;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.support.v7.widget.RecyclerView;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import java.io.IOException;import java.io.InputStream;import java.net.HttpURLConnection;import java.net.URL;import java.net.URLConnection;import java.util.List;import javax.net.ssl.HttpsURLConnection;import xyz.viseator.v2ex.R;import xyz.viseator.v2ex.data.MyContent;/** * Created by viseator on 2016/11/17. */public class RecyclerViewAdapter extends RecyclerView.Adapter<RecyclerViewAdapter.ViewHolder> {    private Context context;    List<MyContent> myContentList;    private final static String TAG = "wudi Adapter";    public static class ViewHolder extends RecyclerView.ViewHolder {        ImageView imageView;        TextView textViewContentSource;        TextView textViewTitle;        TextView textViewContent;        TextView textViewReply;        public ViewHolder(View itemView) {            super(itemView);            imageView = (ImageView) itemView.findViewById(R.id.content_logo);            textViewContentSource = (TextView) itemView.findViewById(R.id.content_source);            textViewTitle = (TextView) itemView.findViewById(R.id.content_title);            textViewContent = (TextView) itemView.findViewById(R.id.content);            textViewReply = (TextView) itemView.findViewById(R.id.content_reply);        }    }    public RecyclerViewAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {        View v = LayoutInflater.from(context).inflate(R.layout.recyclerview_content_layout, parent, false);        RecyclerViewAdapter.ViewHolder vh = new RecyclerViewAdapter.ViewHolder(v);        return vh;    }    public RecyclerViewAdapter(Context context, List<MyContent> myContentList) {        this.myContentList = myContentList;        this.context = context;    }    @Override    public void onBindViewHolder(RecyclerViewAdapter.ViewHolder holder, int position) {        holder.textViewTitle.setText(myContentList.get(position).getTitle());        holder.textViewContent.setText(myContentList.get(position).getContent());        holder.textViewContentSource.setText(myContentList.get(position).getNodeTitle());        holder.textViewReply.setText(String.valueOf(myContentList.get(position).getReplies()));        holder.imageView.setImageBitmap(getAvatar(myContentList.get(position).getNodeAvatar_mini()));    }    @Override    public int getItemCount() {        return myContentList.size();    }    private Bitmap getAvatar(String url) {        // FIXME: 2016/11/18         url = "http:" + url;        try {            URL url1 = new URL(url);            HttpURLConnection httpURLConnection = (HttpURLConnection) url1.openConnection();            InputStream inputStream = httpURLConnection.getInputStream();            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);            inputStream.close();            return bitmap;        } catch (IOException e) {            e.printStackTrace();        }        return null;    }}